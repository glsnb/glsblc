{"remainingRequest":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/thread-loader/dist/cjs.js!/Users/apple/github/glsnb/glsblc/glsblc/node_modules/babel-loader/lib/index.js!/Users/apple/github/glsnb/glsblc/glsblc/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/github/glsnb/glsblc/glsblc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/github/glsnb/glsblc/glsblc/node_modules/form-generator-iview/src/fields/fieldMediaUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/form-generator-iview/src/fields/fieldMediaUpload.vue","mtime":1576581289804},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/cache-loader/dist/cjs.js","mtime":1576575745336},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/thread-loader/dist/cjs.js","mtime":1575878146703},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/babel-loader/lib/index.js","mtime":1575878134225},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/cache-loader/dist/cjs.js","mtime":1576575745336},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/vue-loader/lib/index.js","mtime":1576575752870}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvYXBwbGUvZ2l0aHViL2dsc25iL2dsc2JsYy9nbHNibGMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGNsYXNzUHJpZml4IH0gZnJvbSAnLi4vdXRpbHMvY29uc3QnOwp2YXIgZGVmYXVsdEltZ0V4dGVuc2lvbnMgPSBbJ2dpZicsICdqcGcnLCAnanBlZycsICdwbmcnXTsKdmFyIGRlZmF1bHRWaWRlb0V4dGVuc2lvbnMgPSBbJ21wNCcsICcud2VibSddOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5qZWN0OiBbJ2Zvcm0nXSwKICAvLyBwcm9wcyBtYXkgZnJvbSBpbWdVcGxvYWQgb3IgdmlkZW9VcGxvYWQKICBwcm9wczogewogICAgZmllbGQ6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHNpemU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gJ2RlZmF1bHQnOwogICAgICB9CiAgICB9LAogICAgYWNjZXB0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2ltYWdlL2dpZiwgaW1hZ2UvanBlZywgaW1hZ2UvcG5nLCB2aWRlby9tcDQnCiAgICB9LAogICAgZm9ybWF0OiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW10uY29uY2F0KGRlZmF1bHRJbWdFeHRlbnNpb25zLCBkZWZhdWx0VmlkZW9FeHRlbnNpb25zKTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByZXZpZXdNb2RhbDogewogICAgICAgIG9wZW46IGZhbHNlLAogICAgICAgIGZpbGU6IHt9CiAgICAgIH0sCiAgICAgIHVwbG9hZEZpbGVMaXN0OiBbXSwKICAgICAgZGVmYXVsdEZpbGVMaXN0OiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHVwbG9hZGVyOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7CiAgICAgIHJldHVybiAiIi5jb25jYXQoY2xhc3NQcmlmaXgsICItbWVkaWF1cGxvYWQiKTsKICAgIH0sCiAgICBmaWxlTGlzdENsYXNzOiBmdW5jdGlvbiBmaWxlTGlzdENsYXNzKCkgewogICAgICByZXR1cm4gIiIuY29uY2F0KHRoaXMuY2xhc3NlcywgIi1maWxlLWxpc3QiKTsKICAgIH0sCiAgICBmaWxlTGlzdEl0ZW1DbGFzczogZnVuY3Rpb24gZmlsZUxpc3RJdGVtQ2xhc3MoKSB7CiAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5jbGFzc2VzLCAiLWZpbGUtbGlzdC1pdGVtIik7CiAgICB9LAogICAgZmlsZUxpc3RJdGVtTWVkaWFDbGFzczogZnVuY3Rpb24gZmlsZUxpc3RJdGVtTWVkaWFDbGFzcygpIHsKICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmNsYXNzZXMsICItZmlsZS1saXN0LWl0ZW0tbWVkaWEiKTsKICAgIH0sCiAgICBmaWxlTGlzdEl0ZW1OYW1lQ2xhc3M6IGZ1bmN0aW9uIGZpbGVMaXN0SXRlbU5hbWVDbGFzcygpIHsKICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmNsYXNzZXMsICItZmlsZS1saXN0LWl0ZW0tbmFtZSIpOwogICAgfSwKICAgIGZpbGVMaXN0SXRlbVJlbW92ZUNsYXNzOiBmdW5jdGlvbiBmaWxlTGlzdEl0ZW1SZW1vdmVDbGFzcygpIHsKICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmNsYXNzZXMsICItZmlsZS1saXN0LWl0ZW0tcmVtb3ZlIik7CiAgICB9LAogICAgZmlsZUxpc3RJdGVtRWRpdENsYXNzOiBmdW5jdGlvbiBmaWxlTGlzdEl0ZW1FZGl0Q2xhc3MoKSB7CiAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5jbGFzc2VzLCAiLWZpbGUtbGlzdC1pdGVtLWVkaXQiKTsKICAgIH0sCiAgICBwcmV2aWV3TW9kYWxNZWRpYUNsYXNzZXM6IGZ1bmN0aW9uIHByZXZpZXdNb2RhbE1lZGlhQ2xhc3NlcygpIHsKICAgICAgcmV0dXJuICIiLmNvbmNhdCh0aGlzLmNsYXNzZXMsICItbW9kYWwtcHJldmlldy1tZWRpYSIpOwogICAgfSwKICAgIHByZXZpZXdGaWxlOiBmdW5jdGlvbiBwcmV2aWV3RmlsZSgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJldmlld01vZGFsLmZpbGUgfHwge307CiAgICB9LAogICAgY29tcHV0ZWRBY2NlcHQ6IGZ1bmN0aW9uIGNvbXB1dGVkQWNjZXB0KCkgewogICAgICByZXR1cm4gdGhpcy5maWVsZC5hY2NlcHQgfHwgdGhpcy5hY2NlcHQ7CiAgICB9LAogICAgY29tcHV0ZWRGb3JtYXQ6IGZ1bmN0aW9uIGNvbXB1dGVkRm9ybWF0KCkgewogICAgICByZXR1cm4gdGhpcy5maWVsZC5mb3JtYXQgfHwgdGhpcy5mb3JtYXQ7CiAgICB9LAogICAgdGlwOiBmdW5jdGlvbiB0aXAoKSB7CiAgICAgIHJldHVybiB0aGlzLmZpZWxkLnRpcCB8fCAn54K55Ye75oiW6ICF5ouW5ou95paH5Lu25Y2z5Y+v5LiK5LygJzsKICAgIH0sCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7CiAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZm9ybS5tb2RlbFt0aGlzLmZpZWxkLm1vZGVsXSB8fCBbXTsKICAgICAgcmV0dXJuIHZhbHVlLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0uc3RhdHVzID0gJ2ZpbmlzaGVkJzsKICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgfSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKF92YWx1ZSkgewogICAgICB0aGlzLnVwbG9hZEZpbGVMaXN0ID0gX3ZhbHVlOwoKICAgICAgaWYgKHRoaXMudXBsb2FkZXIpIHsKICAgICAgICB0aGlzLnVwbG9hZGVyLmZpbGVMaXN0ID0gdGhpcy51cGxvYWRGaWxlTGlzdDsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMudXBsb2FkZXIgPSB0aGlzLiRyZWZzLnVwbG9hZCB8fCB0aGlzLiRyZWZzLm1lZGlhVXBsb2FkLiRyZWZzLnVwbG9hZDsKICAgIHRoaXMudXBsb2FkZXIuZmlsZUxpc3QgPSB0aGlzLnZhbHVlOwogICAgdGhpcy51cGxvYWRGaWxlTGlzdCA9IHRoaXMudXBsb2FkZXIuZmlsZUxpc3Q7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvblJlbW92ZTogZnVuY3Rpb24gb25SZW1vdmUoZmlsZSkgewogICAgICB2YXIgZmlsZUxpc3QgPSB0aGlzLnVwbG9hZGVyLmZpbGVMaXN0OwogICAgICB0aGlzLnVwbG9hZGVyLmZpbGVMaXN0LnNwbGljZShmaWxlTGlzdC5pbmRleE9mKGZpbGUpLCAxKTsKICAgICAgdGhpcy51cGxvYWRGaWxlTGlzdCA9IHRoaXMudXBsb2FkZXIuZmlsZUxpc3Quc2xpY2UoKTsKICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTsKICAgIH0sCiAgICBvblByb2dyZXNzOiBmdW5jdGlvbiBvblByb2dyZXNzKGV2ZW50LCBmaWxlLCBmaWxlTGlzdCkgewogICAgICB0aGlzLnVwbG9hZEZpbGVMaXN0ID0gZmlsZUxpc3Q7CiAgICB9LAogICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MoX3JlZiwgZmlsZSkgewogICAgICB2YXIgX3JlZiRkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgZGF0YSA9IF9yZWYkZGF0YSA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGRhdGE7CiAgICAgIHZhciB1cmwgPSBkYXRhLnVybDsKCiAgICAgIGlmICh1cmwpIHsKICAgICAgICAvLyB0aGlzLiRNZXNzYWdlLmluZm8oJ+S4iuS8oOaIkOWKnyEnKTsKICAgICAgICBmaWxlLnVybCA9IHVybDsKICAgICAgICB0aGlzLnVwbG9hZEZpbGVMaXN0ID0gdGhpcy51cGxvYWRlci5maWxlTGlzdDsKICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMub25SZW1vdmUoZmlsZSk7CiAgICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcign5LiK5Lyg5aSx6LSlIScpOwogICAgICB9CiAgICB9LAogICAgb25Gb3JtYXRFcnJvcjogZnVuY3Rpb24gb25Gb3JtYXRFcnJvcigpIHsKICAgICAgdGhpcy4kTWVzc2FnZS5lcnJvcih7CiAgICAgICAgY29udGVudDogIlx1NEUwQVx1NEYyMFx1NjU4N1x1NEVGNlx1NjgzQ1x1NUYwRlx1OTcwMFx1NEUzQToiLmNvbmNhdCh0aGlzLmZpZWxkLmFjY2VwdCwgIixcdTRFMTRcdTU0MEVcdTdGMDBcdTU0MERcdTRFM0E6IikuY29uY2F0KHRoaXMuZmllbGQuZm9ybWF0KSwKICAgICAgICBkdXJhdGlvbjogMgogICAgICB9KTsKICAgIH0sCiAgICBvbkV4Y2VlZGVkU2l6ZTogZnVuY3Rpb24gb25FeGNlZWRlZFNpemUoKSB7CiAgICAgIHRoaXMuJE1lc3NhZ2UuZXJyb3IoewogICAgICAgIGNvbnRlbnQ6ICJcdTRFMEFcdTRGMjBcdTY1ODdcdTRFRjZcdTU5MjdcdTVDMEZcdTRFMERcdTgwRkRcdThEODVcdThGQzc6Ii5jb25jYXQodGhpcy5maWVsZC5tYXhTaXplIC8gMTAyNCwgIk1CIiksCiAgICAgICAgZHVyYXRpb246IDIKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoKSB7CiAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm0ubW9kZWwsIHRoaXMuZmllbGQubW9kZWwsIHRoaXMudXBsb2FkRmlsZUxpc3QpOwogICAgICB0aGlzLiRlbWl0KCdvbi1jaGFuZ2UnLCB0aGlzLmZpZWxkLm1vZGVsLCB0aGlzLnVwbG9hZEZpbGVMaXN0LCBudWxsLCB0aGlzLmZpZWxkKTsKICAgIH0sCiAgICBoYW5kbGVSZW1vdmU6IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZShlLCBmaWxlKSB7CiAgICAgIGlmIChlKSB7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgfQoKICAgICAgdGhpcy5vblJlbW92ZShmaWxlKTsKICAgIH0sCiAgICBoYW5kbGVQb3B0aXBDbGljazogZnVuY3Rpb24gaGFuZGxlUG9wdGlwQ2xpY2soZSkgewogICAgICBpZiAoZSkgewogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVGaWxlTmFtZUlucHV0OiBmdW5jdGlvbiBoYW5kbGVGaWxlTmFtZUlucHV0KHZhbHVlLCBpbmRleCkgewogICAgICB2YXIgbGlzdCA9IHRoaXMudXBsb2FkRmlsZUxpc3QubWFwKGZ1bmN0aW9uIChmaWxlLCBpKSB7CiAgICAgICAgaWYgKGluZGV4ICE9PSBpKSB7CiAgICAgICAgICByZXR1cm4gZmlsZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIGZpbGUsIHsKICAgICAgICAgICAgbmFtZTogdmFsdWUKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMudXBsb2FkRmlsZUxpc3QgPSBsaXN0OwogICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpOwogICAgfSwKICAgIGhhbmRsZVNtYWxsTWVkaWFDbGljazogZnVuY3Rpb24gaGFuZGxlU21hbGxNZWRpYUNsaWNrKGUsIGluZGV4KSB7CiAgICAgIGlmIChlKSB7CiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgfQoKICAgICAgdGhpcy5wcmV2aWV3TW9kYWwgPSB7CiAgICAgICAgb3BlbjogdHJ1ZSwKICAgICAgICBmaWxlOiB0aGlzLnVwbG9hZEZpbGVMaXN0W2luZGV4XQogICAgICB9OwogICAgfSwKICAgIC8vIOmAmui/h1VSTOWSjAogICAgaXNJbWFnZTogZnVuY3Rpb24gaXNJbWFnZShfcmVmMikgewogICAgICB2YXIgX3JlZjIkbmFtZSA9IF9yZWYyLm5hbWUsCiAgICAgICAgICBuYW1lID0gX3JlZjIkbmFtZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmMiRuYW1lLAogICAgICAgICAgX3JlZjIkdXJsID0gX3JlZjIudXJsLAogICAgICAgICAgdXJsID0gX3JlZjIkdXJsID09PSB2b2lkIDAgPyAnJyA6IF9yZWYyJHVybDsKICAgICAgcmV0dXJuIGRlZmF1bHRJbWdFeHRlbnNpb25zLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cCgiLiIuY29uY2F0KGl0ZW0sICIkIikpOwogICAgICAgIHJldHVybiByZWcudGVzdChuYW1lKSB8fCByZWcudGVzdCh1cmwpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["fieldMediaUpload.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div :class=\"classes\">\n        <Upload\n            ref=\"upload\"\n            :action=\"field.action\"\n            :headers=\"field.headers\"\n            :multiple=\"field.multiple\"\n            :paste=\"field.paste\"\n            :disabled=\"field.disabled\"\n            :data=\"field.data\"\n            :name=\"field.name\"\n            :with-credentials=\"field.withCredentials\"\n            :show-upload-list=\"false\"\n            :type=\"field.subtype\"\n            :accept=\"computedAccept\"\n            :format=\"computedFormat\"\n            :max-size=\"field.maxSize\"\n            :default-file-list=\"defaultFileList\"\n            :on-format-error=\"onFormatError\"\n            :on-exceeded-size=\"onExceededSize\"\n            :on-success=\"onSuccess\"\n            :on-progress=\"onProgress\"\n            :size=\"size\"\n        >\n            <Icon\n                type=\"ios-cloud-upload\"\n                size=\"20\"\n                style=\"color: #3399ff\"\n            />\n            <p v-html=\"tip\" />\n            <ul :class=\"fileListClass\">\n                <li\n                    v-for=\"(file, index) in uploadFileList\"\n                    :key=\"index\"\n                    :class=\"fileListItemClass\"\n                >\n                    <template v-if=\"file.status === 'finished'\">\n                        <img\n                            v-if=\"isImage(file)\"\n                            :class=\"fileListItemMediaClass\"\n                            :src=\"file.url\"\n                            :alt=\"file.name\"\n                            @click=\"handleSmallMediaClick($event, index)\"\n                        >\n                        <video\n                            v-else\n                            :class=\"fileListItemMediaClass\"\n                            :src=\"file.url\"\n                            @click=\"handleSmallMediaClick($event, index)\"\n                        />\n                        <span\n                            :class=\"fileListItemNameClass\"\n                            :title=\"file.name\"\n                        >{{ file.name }}</span>\n                        <Poptip\n                            :class=\"fileListItemEditClass\"\n                            title=\"编辑文件名称\"\n                            @click.native=\"handlePoptipClick\"\n                        >\n                            <div slot=\"content\">\n                                <Input\n                                    type=\"textarea\"\n                                    size=\"small\"\n                                    autosize\n                                    :value=\"file.name\"\n                                    @input=\"handleFileNameInput($event, index)\"\n                                />\n                            </div>\n                            <Icon\n                                :size=\"24\"\n                                style=\"color: #FFF\"\n                                type=\"ios-create-outline\"\n                            />\n                        </Poptip>\n                        <Icon\n                            :class=\"fileListItemRemoveClass\"\n                            :size=\"24\"\n                            style=\"color: #FFF\"\n                            type=\"ios-trash-outline\"\n                            @click=\"handleRemove($event, file)\"\n                        />\n                    </template>\n                    <template v-else>\n                        <Progress :percent=\"file.percentage\" hide-info />\n                    </template>\n                </li>\n            </ul>\n        </Upload>\n        <Modal\n            v-model=\"previewModal.open\"\n            title=\"预览\"\n            draggable\n            footer-hide\n            mask-closable\n        >\n            <img\n                v-if=\"isImage(previewFile)\"\n                :src=\"previewFile.url\"\n                :alt=\"previewFile.name\"\n                :class=\"previewModalMediaClasses\"\n            >\n            <video\n                v-else\n                :src=\"previewFile.url\"\n                :class=\"previewModalMediaClasses\"\n                controls\n            />\n        </Modal>\n    </div>\n</template>\n<script>\n\nimport {classPrifix} from '../utils/const';\nconst defaultImgExtensions = ['gif', 'jpg', 'jpeg', 'png'];\nconst defaultVideoExtensions = ['mp4', '.webm'];\nexport default {\n    inject: ['form'],\n    // props may from imgUpload or videoUpload\n    props: {\n        field: {\n            type: Object,\n            required: true\n        },\n        size: {\n            type: String,\n            default() {\n                return 'default';\n            }\n        },\n        accept: {\n            type: String,\n            default: 'image/gif, image/jpeg, image/png, video/mp4'\n        },\n        format: {\n            type: Array,\n            default() {\n                return [...defaultImgExtensions, ...defaultVideoExtensions];\n            }\n        }\n    },\n    data() {\n        return {\n            previewModal: {\n                open: false,\n                file: {}\n            },\n            uploadFileList: [],\n            defaultFileList: [],\n            loading: false,\n            uploader: null\n        };\n    },\n    computed: {\n        classes() {\n            return `${classPrifix}-mediaupload`;\n        },\n        fileListClass() {\n            return `${this.classes}-file-list`;\n        },\n        fileListItemClass() {\n            return `${this.classes}-file-list-item`;\n        },\n        fileListItemMediaClass() {\n            return `${this.classes}-file-list-item-media`;\n        },\n        fileListItemNameClass() {\n            return `${this.classes}-file-list-item-name`;\n        },\n        fileListItemRemoveClass() {\n            return `${this.classes}-file-list-item-remove`;\n        },\n        fileListItemEditClass() {\n            return `${this.classes}-file-list-item-edit`;\n        },\n        previewModalMediaClasses() {\n            return `${this.classes}-modal-preview-media`;\n        },\n        previewFile() {\n            return this.previewModal.file || {};\n        },\n        computedAccept() {\n            return this.field.accept || this.accept;\n        },\n        computedFormat() {\n            return this.field.format || this.format;\n        },\n        tip() {\n            return this.field.tip || '点击或者拖拽文件即可上传';\n        },\n        value() {\n            let value = this.form.model[this.field.model] || [];\n            return value.map(item => {\n                item.status = 'finished';\n                return item;\n            });\n        }\n    },\n    watch: {\n        value(value) {\n            this.uploadFileList = value;\n            if (this.uploader) {\n                this.uploader.fileList = this.uploadFileList;\n            }\n        },\n    },\n    mounted() {\n        this.uploader = this.$refs.upload || this.$refs.mediaUpload.$refs.upload;\n        this.uploader.fileList = this.value;\n        this.uploadFileList = this.uploader.fileList;\n    },\n    methods: {\n        onRemove(file) {\n            const fileList = this.uploader.fileList;\n            this.uploader.fileList.splice(fileList.indexOf(file), 1);\n            this.uploadFileList = this.uploader.fileList.slice();\n            this.handleChange();\n        },\n        onProgress(event, file, fileList) {\n            this.uploadFileList = fileList;\n        },\n        onSuccess({data = {}}, file) {\n            const {url} = data;\n            if (url) {\n                // this.$Message.info('上传成功!');\n                file.url = url;\n                this.uploadFileList = this.uploader.fileList;\n                this.handleChange();\n            }\n            else {\n                this.onRemove(file);\n                this.$Message.error('上传失败!');\n            }\n        },\n        onFormatError() {\n            this.$Message.error({\n                content: `上传文件格式需为:${this.field.accept},且后缀名为:${this.field.format}`,\n                duration: 2,\n            });\n        },\n        onExceededSize() {\n            this.$Message.error({\n                content: `上传文件大小不能超过:${this.field.maxSize / 1024}MB`,\n                duration: 2,\n            });\n        },\n        handleChange() {\n            this.$set(this.form.model, this.field.model, this.uploadFileList);\n            this.$emit('on-change', this.field.model, this.uploadFileList, null, this.field);\n        },\n        handleRemove(e, file) {\n            if (e) {\n                e.stopPropagation();\n            }\n            this.onRemove(file);\n        },\n        handlePoptipClick(e) {\n            if (e) {\n                e.stopPropagation();\n            }\n        },\n        handleFileNameInput(value, index) {\n            const list = this.uploadFileList.map((file, i) => {\n                if (index !== i) {\n                    return file;\n                }\n                else {\n                    return {\n                        ...file,\n                        name: value\n                    };\n                }\n            });\n            this.uploadFileList = list;\n            this.handleChange();\n        },\n        handleSmallMediaClick(e, index) {\n            if (e) {\n                e.stopPropagation();\n            }\n            this.previewModal = {\n                open: true,\n                file: this.uploadFileList[index]\n            };\n        },\n        // 通过URL和\n        isImage({name = '', url = ''}) {\n            return defaultImgExtensions.some(item => {\n                const reg = new RegExp(`.${item}$`);\n                return reg.test(name) || reg.test(url);\n            });\n        },\n    }\n};\n</script>\n"],"sourceRoot":"node_modules/form-generator-iview/src/fields"}]}