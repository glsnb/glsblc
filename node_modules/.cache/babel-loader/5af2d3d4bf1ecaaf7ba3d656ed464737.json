{"remainingRequest":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/thread-loader/dist/cjs.js!/Users/apple/github/glsnb/glsblc/glsblc/node_modules/babel-loader/lib/index.js!/Users/apple/github/glsnb/glsblc/glsblc/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/github/glsnb/glsblc/glsblc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/github/glsnb/glsblc/glsblc/node_modules/data-vis-iview/src/charts/chartBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/data-vis-iview/src/charts/chartBar.vue","mtime":1576069822427},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/cache-loader/dist/cjs.js","mtime":1576575745336},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/thread-loader/dist/cjs.js","mtime":1575878146703},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/babel-loader/lib/index.js","mtime":1575878134225},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/cache-loader/dist/cjs.js","mtime":1576575745336},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/vue-loader/lib/index.js","mtime":1576575752870}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGVjaGFydHMgZnJvbSAnZWNoYXJ0cyc7CmltcG9ydCB0ZFRoZW1lIGZyb20gJy4vdGhlbWUuanNvbic7CmltcG9ydCB7IG9uLCBvZmYgfSBmcm9tICcuLi91dGlscy91dGlscyc7CmltcG9ydCBkYXRhR2V0dGVyIGZyb20gJy4uL21peGlucy9kYXRhR2V0dGVyJzsKaW1wb3J0IHsgY2xhc3NQcmlmaXggfSBmcm9tICcuLi91dGlscy9jb25zdCc7CmVjaGFydHMucmVnaXN0ZXJUaGVtZSgndGRUaGVtZScsIHRkVGhlbWUpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYXJ0QmFyJywKICBtaXhpbnM6IFtkYXRhR2V0dGVyXSwKICBwcm9wczogewogICAgY2hhcnQ6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZG9tOiBudWxsLAogICAgICBjaGFydERhdGE6IFtdLAogICAgICBjaGFydENvbHVtbnM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNsYXNzZXM6IGZ1bmN0aW9uIGNsYXNzZXMoKSB7CiAgICAgIHJldHVybiBbIiIuY29uY2F0KGNsYXNzUHJpZml4LCAiLWNoYXJ0IiksICIiLmNvbmNhdChjbGFzc1ByaWZpeCwgIi1jaGFydC1iYXIiKV07CiAgICB9LAogICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuY2hhcnQuYXBpID8gdGhpcy5jaGFydERhdGEgOiB0aGlzLmNoYXJ0LmRhdGE7CiAgICB9LAogICAgY29sdW1uczogZnVuY3Rpb24gY29sdW1ucygpIHsKICAgICAgdmFyIGNoYXJ0Q29sdW1ucyA9IHRoaXMuY2hhcnRDb2x1bW5zIHx8IFtdOwogICAgICB2YXIgY29sdW1ucyA9IHRoaXMuY2hhcnQuY29sdW1ucyB8fCBbXTsKICAgICAgcmV0dXJuIGNoYXJ0Q29sdW1ucy5sZW5ndGggPiAwID8gY2hhcnRDb2x1bW5zIDogY29sdW1uczsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMucmVuZGVyKCk7CiAgICB0aGlzLiR3YXRjaCgnY2hhcnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnJlbmRlcigpOwogICAgfSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgb2ZmKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMucmVzaXplKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlc2l6ZTogZnVuY3Rpb24gcmVzaXplKCkgewogICAgICB0aGlzLmRvbSAmJiB0aGlzLmRvbS5yZXNpemUoKTsKICAgIH0sCiAgICBnZXREYXRhRmluaXNoZWQ6IGZ1bmN0aW9uIGdldERhdGFGaW5pc2hlZCgpIHsKICAgICAgdGhpcy5yZW5kZXIoKTsKICAgIH0sCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7CiAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5jb2x1bW5zOwogICAgICB2YXIgaXNWZXRpY2FsID0gdGhpcy5jaGFydC5kaXJlY3Rpb24gPT09ICd2ZXRpY2FsJzsKICAgICAgdGhpcy5kb20gJiYgdGhpcy5kb20uY2xlYXIoKTsKICAgICAgdGhpcy5kb20gPSB0aGlzLiRyZWZzLmRvbSAmJiBlY2hhcnRzLmluaXQodGhpcy4kcmVmcy5kb20sICd0ZFRoZW1lJyk7CgogICAgICBpZiAoY29sdW1ucy5sZW5ndGggPT09IDAgfHwgZGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBvcHRpb24gPSB7CiAgICAgICAgdG9vbGJveDogewogICAgICAgICAgdG9wOiAnLTElJywKICAgICAgICAgIHJpZ2h0OiAnNCUnLAogICAgICAgICAgZmVhdHVyZTogewogICAgICAgICAgICBzYXZlQXNJbWFnZToge30KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGdyaWQ6IHsKICAgICAgICAgIGNvbnRhaW5MYWJlbDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgeEF4aXM6IGlzVmV0aWNhbCA/IHsKICAgICAgICAgIHR5cGU6ICd2YWx1ZScKICAgICAgICB9IDogewogICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JywKICAgICAgICAgIGRhdGE6IGNvbHVtbnMKICAgICAgICB9LAogICAgICAgIHlBeGlzOiBpc1ZldGljYWwgPyB7CiAgICAgICAgICB0eXBlOiAnY2F0ZWdvcnknLAogICAgICAgICAgZGF0YTogY29sdW1ucwogICAgICAgIH0gOiB7CiAgICAgICAgICB0eXBlOiAndmFsdWUnCiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgdHlwZTogJ2JhcicKICAgICAgICB9XQogICAgICB9OwogICAgICB0aGlzLmRvbSAmJiB0aGlzLmRvbS5zZXRPcHRpb24ob3B0aW9uKTsKICAgICAgb24od2luZG93LCAncmVzaXplJywgdGhpcy5yZXNpemUpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["chartBar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div :class=\"[loadingClasses, classes]\">\n        <Spin\n            v-if=\"loading\"\n            :class=\"spinClasses\"\n            size=\"large\"\n        />\n        <div\n            ref=\"dom\"\n            :class=\"classes\"\n        />\n    </div>\n</template>\n\n<script>\nimport echarts from 'echarts';\nimport tdTheme from './theme.json';\nimport { on, off } from '../utils/utils';\nimport dataGetter from '../mixins/dataGetter';\nimport {classPrifix} from '../utils/const';\necharts.registerTheme('tdTheme', tdTheme);\n\nexport default {\n    name: 'ChartBar',\n    mixins: [dataGetter],\n    props: {\n        chart: {\n            type: Object,\n            default() {\n                return {};\n            }\n        }\n    },\n    data () {\n        return {\n            loading: false,\n            dom: null,\n            chartData: [],\n            chartColumns: [],\n        };\n    },\n    computed: {\n        classes() {\n            return [\n                `${classPrifix}-chart`,\n                `${classPrifix}-chart-bar`\n            ];\n        },\n        data() {\n            return this.chart.api ? this.chartData : this.chart.data;\n        },\n        columns() {\n            let chartColumns = this.chartColumns || [];\n            let columns = this.chart.columns || [];\n            return chartColumns.length > 0 ? chartColumns : columns;\n        }\n    },\n    mounted () {\n        this.render();\n        this.$watch('chart', () => {\n            this.render();\n        });\n    },\n    beforeDestroy () {\n        off(window, 'resize', this.resize);\n    },\n    methods: {\n        resize () {\n            this.dom && this.dom.resize();\n        },\n        getDataFinished() {\n            this.render();\n        },\n        render() {\n            const data = this.data;\n            const columns = this.columns;\n            const isVetical = this.chart.direction === 'vetical';\n            this.dom && this.dom.clear();\n            this.dom = this.$refs.dom && echarts.init(this.$refs.dom, 'tdTheme');\n            if (columns.length === 0 || data.length === 0) {\n                return;\n            }\n            let option = {\n                toolbox: {\n                    top: '-1%',\n                    right: '4%',\n                    feature: {\n                        saveAsImage: {}\n                    }\n                },\n                grid: {\n                    containLabel: true\n                },\n                xAxis: isVetical\n                    ? {\n                        type: 'value'\n                    } : {\n                        type: 'category',\n                        data: columns\n                    },\n                yAxis: isVetical\n                    ? {\n                        type: 'category',\n                        data: columns\n                    } : {\n                        type: 'value'\n                    },\n                series: [{\n                    data: data,\n                    type: 'bar'\n                }]\n            };\n            this.dom && this.dom.setOption(option);\n            on(window, 'resize', this.resize);\n        }\n    }\n};\n</script>\n"],"sourceRoot":"node_modules/data-vis-iview/src/charts"}]}