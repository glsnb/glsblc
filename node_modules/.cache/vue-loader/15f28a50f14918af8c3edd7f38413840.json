{"remainingRequest":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/github/glsnb/glsblc/glsblc/node_modules/form-generator-iview/src/formGenerator.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/form-generator-iview/src/formGenerator.vue","mtime":1576581289804},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/cache-loader/dist/cjs.js","mtime":1576575745336},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/babel-loader/lib/index.js","mtime":1575878134225},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/cache-loader/dist/cjs.js","mtime":1576575745336},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/vue-loader/lib/index.js","mtime":1576575752870}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGaWVsZEdlbmVyYXRvciBmcm9tICcuL2ZpZWxkR2VuZXJhdG9yJzsKaW1wb3J0IHtjbGFzc1ByaWZpeH0gZnJvbSAnLi91dGlscy9jb25zdCc7CmltcG9ydCB2Q2xpY2tPdXRzaWRlIGZyb20gJ3YtY2xpY2stb3V0c2lkZSc7CmltcG9ydCB7Z2V0VmFsaWRUeXBlfSBmcm9tICcuL3V0aWxzL2dldFZhbGlkVHlwZSc7CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdGb3JtR2VuZXJhdG9yJywKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBGaWVsZEdlbmVyYXRvcgogICAgfSwKICAgIGRpcmVjdGl2ZXM6IHsKICAgICAgICBjbGlja091dHNpZGU6IHZDbGlja091dHNpZGUuZGlyZWN0aXZlCiAgICB9LAogICAgZmlsdGVyczogewogICAgICAgIGxhYmVsV2lkdGgob3B0aW9ucykgewogICAgICAgICAgICBpZiAob3B0aW9ucy5pbmxpbmUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmxhYmVsV2lkdGg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5sYWJlbFdpZHRoIHx8IDgwOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIHByb3BzOiB7CiAgICAgICAgcmVxdWVzdEludGVyY2VwdG9yOiB7CiAgICAgICAgICAgIHR5cGU6IFtGdW5jdGlvbiwgbnVsbF0sCiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwKICAgICAgICB9LAogICAgICAgIGZpZWxkczogewogICAgICAgICAgICB0eXBlOiBBcnJheSwKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG1vZGVsOiB7CiAgICAgICAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4ge307CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgICBkZWZhdWx0KCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHt9OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlzU2hvd0V4dHJhOiBmYWxzZSwKICAgICAgICAgICAgc2VsZWN0ZWREZWZhdWx0SGlkZUZpZWxkczogW10KICAgICAgICB9OwogICAgfSwKCiAgICBjb21wdXRlZDogewogICAgICAgIGNsYXNzZXMoKSB7CiAgICAgICAgICAgIHJldHVybiBjbGFzc1ByaWZpeDsKICAgICAgICB9LAogICAgICAgIGhlYWRlckNsYXNzZXMoKSB7CiAgICAgICAgICAgIHJldHVybiBgJHtjbGFzc1ByaWZpeH0taGVhZGVyYDsKICAgICAgICB9LAogICAgICAgIGhlYWRlclRleHRDbGFzc2VzKCkgewogICAgICAgICAgICByZXR1cm4gYCR7Y2xhc3NQcmlmaXh9LWhlYWRlci10ZXh0YDsKICAgICAgICB9LAogICAgICAgIHRpcHNDbGFzc2VzKCkgewogICAgICAgICAgICByZXR1cm4gYCR7Y2xhc3NQcmlmaXh9LXRpcGA7CiAgICAgICAgfSwKICAgICAgICBkZWZhdWx0SXRlbXNCb3hDbGFzc2VzcygpIHsKICAgICAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgICAgIGAke2NsYXNzUHJpZml4fS1kZWZhdWx0LWl0ZW1zLWJveGAsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgW2Ake2NsYXNzUHJpZml4fS1kZWZhdWx0LWl0ZW1zLWJveC1uby1yaWdodGBdOiB0aGlzLmNvbXB1dGVkRmllbGRzLmRlZmF1bHRIaWRlRmllbGRzLmxlbmd0aCA9PT0gMCwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgXTsKICAgICAgICB9LAogICAgICAgIG1vcmVEaXZpZGVyQ2xhc3NlcygpIHsKICAgICAgICAgICAgcmV0dXJuIGAke2NsYXNzUHJpZml4fS1tb3JlLWRpdmlkZXItYm94YDsKICAgICAgICB9LAogICAgICAgIGV4dHJhSXRlbXNCb3hDbGFzc2VzcygpIHsKICAgICAgICAgICAgcmV0dXJuIGAke2NsYXNzUHJpZml4fS1leHRyYS1pdGVtcy1ib3hgOwogICAgICAgIH0sCiAgICAgICAgZXh0cmFTZWxlY3RCb3hSaWdodENsYXNzZXMoKSB7CiAgICAgICAgICAgIHJldHVybiBgJHtjbGFzc1ByaWZpeH0tZXh0cmEtYm94LXJpZ2h0YDsKICAgICAgICB9LAogICAgICAgIGV4dHJhU2VsZWN0UmlnaHRDb250ZW50Q2xhc3NlcygpIHsKICAgICAgICAgICAgcmV0dXJuIGAke2NsYXNzUHJpZml4fS1leHRyYS1yaWdodC1jb250ZW50YDsKICAgICAgICB9LAogICAgICAgIGV4dHJhQnRuQm94Q2xhc3NlcygpIHsKICAgICAgICAgICAgcmV0dXJuIGAke2NsYXNzUHJpZml4fS1leHRyYS1ib3hgOwogICAgICAgIH0sCiAgICAgICAgbGFiZWxMZWZ0Q2xhc3NlcygpIHsKICAgICAgICAgICAgcmV0dXJuIGAke2NsYXNzUHJpZml4fS1leHRyYS1sZWZ0YDsKICAgICAgICB9LAogICAgICAgIGV4dHJhU2VsZWN0Qm94Q2xhc3NlcygpIHsKICAgICAgICAgICAgcmV0dXJuIGAke2NsYXNzUHJpZml4fS1leHRyYS1zZWxlY3QtYm94YDsKICAgICAgICB9LAogICAgICAgIHRpcCgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHRpdGxlOiB0aGlzLm9wdGlvbnMudGlwICYmIHRoaXMub3B0aW9ucy50aXAudGl0bGUsCiAgICAgICAgICAgICAgICBjb250ZW50OiB0aGlzLm9wdGlvbnMudGlwICYmIHRoaXMub3B0aW9ucy50aXAuY29udGVudCwKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIGFwaUJhc2UoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYXBpQmFzZSB8fCAnJzsKICAgICAgICB9LAogICAgICAgIGV4dHJhVHlwZSgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5leHRyYVR5cGUgfHwgJ3JpZ2h0JzsKICAgICAgICB9LAogICAgICAgIGNvbXB1dGVkRmllbGRzKCkgewogICAgICAgICAgICBsZXQgZmllbGRzID0gdGhpcy5maWVsZHMgfHwgW107CiAgICAgICAgICAgIGxldCBkZWZhdWx0U2hvd0ZpZWxkcyA9IFtdOwogICAgICAgICAgICBsZXQgZGVmYXVsdEhpZGVGaWVsZHMgPSBbXTsKICAgICAgICAgICAgZmllbGRzLmZvckVhY2goZmllbGQgPT4gewogICAgICAgICAgICAgICAgaWYgKCFmaWVsZC5kZWZhdWx0SGlkZSkgewogICAgICAgICAgICAgICAgICAgIGRlZmF1bHRTaG93RmllbGRzLnB1c2goZmllbGQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEhpZGVGaWVsZHMucHVzaChmaWVsZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgZGVmYXVsdFNob3dGaWVsZHMsCiAgICAgICAgICAgICAgICBkZWZhdWx0SGlkZUZpZWxkcwogICAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgZGlzcGxheUZpZWxkcygpIHsKICAgICAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgICAgIC4uLnRoaXMuY29tcHV0ZWRGaWVsZHMuZGVmYXVsdFNob3dGaWVsZHMsCiAgICAgICAgICAgICAgICAuLi50aGlzLmNvbXB1dGVkRmllbGRzLmRlZmF1bHRIaWRlRmllbGRzLmZpbHRlcigKICAgICAgICAgICAgICAgICAgICBpdGVtID0+IHRoaXMuc2VsZWN0ZWREZWZhdWx0SGlkZUZpZWxkcy5pbmNsdWRlcyhpdGVtLm1vZGVsKQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICBdOwogICAgICAgIH0sCiAgICAgICAgLy8g5qC55o2uYXBpUGFyYW1z6K6h566X5Ye65p+Q5a2X5q615pu05pS55ZCO77yM5Y+X5b2x5ZON55qE5a2X5q615pyJ5ZOq5LqbCiAgICAgICAgbmVlZFJlc2V0RmllbGRzT25DaGFuZ2VNYXAoKSB7CiAgICAgICAgICAgIGxldCBmaWVsZHMgPSB0aGlzLmZpZWxkcyB8fCBbXTsKICAgICAgICAgICAgbGV0IG1hcCA9IHt9OwogICAgICAgICAgICBmaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7CiAgICAgICAgICAgICAgICBsZXQgYXBpUGFyYW1zID0gZmllbGQuYXBpUGFyYW1zIHx8IFtdOwogICAgICAgICAgICAgICAgaWYgKGFwaVBhcmFtcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgYXBpUGFyYW1zLmZvckVhY2gocGFyYW0gPT4gewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hcFtwYXJhbV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcFtwYXJhbV0gPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBtYXBbcGFyYW1dLnB1c2goZmllbGQpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIG1hcDsKICAgICAgICB9CgogICAgfSwKICAgIC8vIHdhdGNoOiB7CiAgICAvLyAgICAgbW9kZWw6IHsKICAgIC8vICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKHZhbCkgewogICAgLy8gICAgICAgICAgICAgdGhpcy5mb3JtTW9kZWwgPSB2YWw7CiAgICAvLyAgICAgICAgIH0sCiAgICAvLyAgICAgICAgIGRlZXA6IHRydWUKICAgIC8vICAgICB9CiAgICAvLyB9LAogICAgbWV0aG9kczogewogICAgICAgIGhhbmRsZUZpZWxkQ2hhbmdlKG1vZGVsLCB2YWx1ZSl7CiAgICAgICAgICAgIC8vIOWFs+iBlOmhuemcgOimgea4heepugogICAgICAgICAgICBsZXQgbmVlZFJlc2V0RmllbGRzID0gdGhpcy5uZWVkUmVzZXRGaWVsZHNPbkNoYW5nZU1hcFttb2RlbF0gfHwgW107CiAgICAgICAgICAgIG5lZWRSZXNldEZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHsKICAgICAgICAgICAgICAgIHRoaXMucmVzZXRGaWVsZChmaWVsZCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGVGaWVsZChtb2RlbCk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29uLWZpZWxkLWNoYW5nZScsIG1vZGVsLCB2YWx1ZSk7CiAgICAgICAgfSwKCiAgICAgICAgaGFuZGxlU3VibWl0KCkgewogICAgICAgICAgICB0aGlzLnN1Ym1pdCgpLnRoZW4obW9kZWwgPT4gewogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtb2RlbCcsIG1vZGVsKTsKICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyJywgZXJyKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ29uLXN1Ym1pdCcpOwogICAgICAgIH0sCgogICAgICAgIHN1Ym1pdCgpIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkudGhlbih2YWxpZCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLm1vZGVsKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCh2YWxpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoKGVycikgewogICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIGhhbmRsZVJlc2V0KCkgewogICAgICAgICAgICAvLyBUT0RPIHN0aWxsIGhhcyBwcm9ibGVtCiAgICAgICAgICAgIC8vIHRoaXMuJHJlZnMuZm9ybS5yZXNldEZpZWxkcygpOwogICAgICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgICAgfSwKCiAgICAgICAgcmVzZXQoKSB7CiAgICAgICAgICAgIHRoaXMuZmllbGRzLmZvckVhY2goZmllbGQgPT4gewogICAgICAgICAgICAgICAgdGhpcy5yZXNldEZpZWxkKGZpZWxkKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgcmVzZXRGaWVsZChmaWVsZCkgewogICAgICAgICAgICBsZXQgdHlwZVRvUmVzZXRWYWx1ZXMgPSB7CiAgICAgICAgICAgICAgICBzdHJpbmc6ICcnLAogICAgICAgICAgICAgICAgYXJyYXk6IFtdLAogICAgICAgICAgICAgICAgb2JqZWN0OiB7fSwKICAgICAgICAgICAgICAgIG51bWJlcjogMAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgLy8gSWYgdHlwZSBvZiBmaWVsZCBpcyBzdHJpbmcsIGl0J3MgdGhlIG1vZGVsIGlkZW50aWZ5IG9mCiAgICAgICAgICAgIGlmICh0eXBlb2YgZmllbGQgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICBmaWVsZCA9IHRoaXMuZmllbGRzLmZpbmQoaXRlbSA9PiBpdGVtLm1vZGVsID09PSBmaWVsZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbGV0IHR5cGUgPSBnZXRWYWxpZFR5cGUoZmllbGQpOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0eXBlLCBmaWVsZC5tb2RlbCwgdHlwZVRvUmVzZXRWYWx1ZXNbdHlwZV0pOwogICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5tb2RlbCwgZmllbGQubW9kZWwsIHR5cGVUb1Jlc2V0VmFsdWVzW3R5cGVdKTsKICAgICAgICB9LAoKICAgICAgICBoYW5kbGVCdXR0b25FdmVudCgkZXZlbnQpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnb24tYnV0dG9uLWV2ZW50JywgJGV2ZW50KTsKICAgICAgICB9LAoKICAgICAgICBoYW5kbGVFeHRyYUJ0bkNsaWNrKCkgewogICAgICAgICAgICB0aGlzLmlzU2hvd0V4dHJhID0gIXRoaXMuaXNTaG93RXh0cmE7CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVFeHRyYVNlbGVjdFJpZ2h0Q29udGVudENsaWNrT3V0c2lkZSgpIHsKICAgICAgICAgICAgdGhpcy5pc1Nob3dFeHRyYSA9ICF0aGlzLmlzU2hvd0V4dHJhOwogICAgICAgIH0sCiAgICB9Cn07Cg=="},{"version":3,"sources":["formGenerator.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"formGenerator.vue","sourceRoot":"node_modules/form-generator-iview/src","sourcesContent":["<template>\n    <div :class=\"classes\">\n        <h3\n            v-if=\"options.title || tip.title\"\n            :class=\"headerClasses\"\n        >\n            <span :class=\"headerTextClasses\">{{ options.title }}</span>\n            <Poptip\n                v-if=\"tip.title\"\n                :class=\"tipsClasses\"\n                :title=\"tip.title\"\n                placement=\"left-start\"\n            >\n                <Icon type=\"md-help-circle\" />\n                <div slot=\"content\">\n                    <p v-html=\"tip.content\" />\n                </div>\n            </Poptip>\n        </h3>\n        <Divider\n            v-if=\"options.title || tip.title\"\n            dashed\n            size=\"small\"\n        />\n        <Form\n            ref=\"form\"\n            :model=\"model\"\n            :label-width=\"options | labelWidth\"\n            :inline=\"options.inline\"\n            :label-position=\"options.labelPosition || 'right'\"\n        >\n            <div :class=\"defaultItemsBoxClassess\">\n                <FieldGenerator\n                    v-for=\"field in displayFields\"\n                    :key=\"field.model\"\n                    :field=\"field\"\n                    :api-base=\"apiBase\"\n                    :size=\"options.size\"\n                    :item-width=\"options.itemWidth\"\n                    :inline=\"options.inline\"\n                    :request-interceptor=\"requestInterceptor\"\n                    @on-field-change=\"handleFieldChange\"\n                    @on-submit=\"handleSubmit\"\n                    @on-reset=\"handleReset\"\n                    @on-button-event=\"handleButtonEvent($event)\"\n                />\n            </div>\n\n            <div\n                v-if=\"extraType === 'right' && computedFields.defaultHideFields.length > 0\"\n                :class=\"extraSelectBoxRightClasses\"\n            >\n                <Button\n                    type=\"info\"\n                    size=\"small\"\n                    @click=\"handleExtraBtnClick\"\n                >更多\n                    <Icon\n                        v-if=\"isShowExtra\"\n                        type=\"ios-arrow-down\"\n                    />\n                    <Icon\n                        v-if=\"!isShowExtra\"\n                        type=\"ios-arrow-forward\"\n                    />\n                </Button>\n                <div\n                    v-if=\"isShowExtra\"\n                    v-click-outside=\"handleExtraSelectRightContentClickOutside\"\n                    :class=\"extraSelectRightContentClasses\"\n                >\n                    <CheckboxGroup\n                        v-model=\"selectedDefaultHideFields\"\n                        size=\"small\"\n                        placeholder=\"请选择更多条件\"\n                        multiple\n                        filterable\n                    >\n                        <Checkbox\n                            v-for=\"item in computedFields.defaultHideFields\"\n                            :key=\"item.model\"\n                            :label=\"item.model\"\n                        >{{ item.label }}</Checkbox>\n                    </CheckboxGroup>\n                </div>\n            </div>\n            <div\n                v-if=\"extraType === 'bottom' && computedFields.defaultHideFields.length > 0\"\n                :class=\"extraSelectBoxClasses\"\n            >\n                <Row :class=\"moreDividerClasses\">\n                    <iCol span=\"10\">\n                        <Divider\n                            dashed\n                            size=\"small\"\n                        />\n                    </iCol>\n                    <iCol\n                        span=\"4\"\n                        :class=\"extraBtnBoxClasses\"\n                    >\n                        <Icon type=\"ios-arrow-back\" />\n                        更多选项\n                        <Icon type=\"ios-arrow-forward\" />\n                    </iCol>\n                    <iCol span=\"10\">\n                        <Divider\n                            dashed\n                            size=\"small\"\n                        />\n                    </iCol>\n                </Row>\n                <Select\n                    v-model=\"selectedDefaultHideFields\"\n                    size=\"small\"\n                    placeholder=\"请选择更多条件\"\n                    multiple\n                    filterable\n                >\n                    <Option\n                        v-for=\"item in computedFields.defaultHideFields\"\n                        :key=\"item.model\"\n                        :value=\"item.model\"\n                    >{{ item.label }}</Option>\n                </Select>\n            </div>\n        </Form>\n    </div>\n</template>\n<script>\nimport FieldGenerator from './fieldGenerator';\nimport {classPrifix} from './utils/const';\nimport vClickOutside from 'v-click-outside';\nimport {getValidType} from './utils/getValidType';\nexport default {\n    name: 'FormGenerator',\n    components: {\n        FieldGenerator\n    },\n    directives: {\n        clickOutside: vClickOutside.directive\n    },\n    filters: {\n        labelWidth(options) {\n            if (options.inline) {\n                return options.labelWidth;\n            }\n            else {\n                return options.labelWidth || 80;\n            }\n        }\n    },\n    props: {\n        requestInterceptor: {\n            type: [Function, null],\n            default: null\n        },\n        fields: {\n            type: Array,\n            required: true,\n            default() {\n                return [];\n            }\n        },\n        model: {\n            type: Object,\n            required: true,\n            default() {\n                return {};\n            }\n        },\n        options: {\n            type: Object,\n            default() {\n                return {};\n            }\n        }\n    },\n    data () {\n        return {\n            isShowExtra: false,\n            selectedDefaultHideFields: []\n        };\n    },\n\n    computed: {\n        classes() {\n            return classPrifix;\n        },\n        headerClasses() {\n            return `${classPrifix}-header`;\n        },\n        headerTextClasses() {\n            return `${classPrifix}-header-text`;\n        },\n        tipsClasses() {\n            return `${classPrifix}-tip`;\n        },\n        defaultItemsBoxClassess() {\n            return [\n                `${classPrifix}-default-items-box`,\n                {\n                    [`${classPrifix}-default-items-box-no-right`]: this.computedFields.defaultHideFields.length === 0,\n                }\n            ];\n        },\n        moreDividerClasses() {\n            return `${classPrifix}-more-divider-box`;\n        },\n        extraItemsBoxClassess() {\n            return `${classPrifix}-extra-items-box`;\n        },\n        extraSelectBoxRightClasses() {\n            return `${classPrifix}-extra-box-right`;\n        },\n        extraSelectRightContentClasses() {\n            return `${classPrifix}-extra-right-content`;\n        },\n        extraBtnBoxClasses() {\n            return `${classPrifix}-extra-box`;\n        },\n        labelLeftClasses() {\n            return `${classPrifix}-extra-left`;\n        },\n        extraSelectBoxClasses() {\n            return `${classPrifix}-extra-select-box`;\n        },\n        tip() {\n            return {\n                title: this.options.tip && this.options.tip.title,\n                content: this.options.tip && this.options.tip.content,\n            };\n        },\n        apiBase() {\n            return this.options.apiBase || '';\n        },\n        extraType() {\n            return this.options.extraType || 'right';\n        },\n        computedFields() {\n            let fields = this.fields || [];\n            let defaultShowFields = [];\n            let defaultHideFields = [];\n            fields.forEach(field => {\n                if (!field.defaultHide) {\n                    defaultShowFields.push(field);\n                }\n                else {\n                    defaultHideFields.push(field);\n                }\n            });\n            return {\n                defaultShowFields,\n                defaultHideFields\n            };\n        },\n        displayFields() {\n            return [\n                ...this.computedFields.defaultShowFields,\n                ...this.computedFields.defaultHideFields.filter(\n                    item => this.selectedDefaultHideFields.includes(item.model)\n                )\n            ];\n        },\n        // 根据apiParams计算出某字段更改后，受影响的字段有哪些\n        needResetFieldsOnChangeMap() {\n            let fields = this.fields || [];\n            let map = {};\n            fields.forEach(field => {\n                let apiParams = field.apiParams || [];\n                if (apiParams.length > 0) {\n                    apiParams.forEach(param => {\n                        if (!map[param]) {\n                            map[param] = [];\n                        }\n                        map[param].push(field);\n                    });\n                }\n            });\n            return map;\n        }\n\n    },\n    // watch: {\n    //     model: {\n    //         handler: function (val) {\n    //             this.formModel = val;\n    //         },\n    //         deep: true\n    //     }\n    // },\n    methods: {\n        handleFieldChange(model, value){\n            // 关联项需要清空\n            let needResetFields = this.needResetFieldsOnChangeMap[model] || [];\n            needResetFields.forEach(field => {\n                this.resetField(field);\n            });\n            this.$refs.form.validateField(model);\n            this.$emit('on-field-change', model, value);\n        },\n\n        handleSubmit() {\n            this.submit().then(model => {\n                // eslint-disable-next-line no-console\n                console.log('model', model);\n            }).catch(err => {\n                // eslint-disable-next-line no-console\n                console.log('err', err);\n            });\n            this.$emit('on-submit');\n        },\n\n        submit() {\n            return new Promise((resolve, reject) => {\n                try {\n                    this.$refs.form.validate().then(valid => {\n                        if (valid) {\n                            resolve(this.model);\n                        }\n                        else {\n                            reject(valid);\n                        }\n                    }).catch(err => {\n                        reject(err);\n                    });\n                }\n                catch(err) {\n                    // eslint-disable-next-line no-console\n                    console.log(err);\n                    reject(err);\n                }\n\n            });\n        },\n\n        handleReset() {\n            // TODO still has problem\n            // this.$refs.form.resetFields();\n            this.reset();\n        },\n\n        reset() {\n            this.fields.forEach(field => {\n                this.resetField(field);\n            });\n        },\n\n        resetField(field) {\n            let typeToResetValues = {\n                string: '',\n                array: [],\n                object: {},\n                number: 0\n            };\n\n            // If type of field is string, it's the model identify of\n            if (typeof field === 'string') {\n                field = this.fields.find(item => item.model === field);\n            }\n            let type = getValidType(field);\n            // console.log(type, field.model, typeToResetValues[type]);\n            this.$set(this.model, field.model, typeToResetValues[type]);\n        },\n\n        handleButtonEvent($event) {\n            this.$emit('on-button-event', $event);\n        },\n\n        handleExtraBtnClick() {\n            this.isShowExtra = !this.isShowExtra;\n        },\n        handleExtraSelectRightContentClickOutside() {\n            this.isShowExtra = !this.isShowExtra;\n        },\n    }\n};\n</script>\n<style lang=\"less\">\n.form-generator {\n    .ivu-divider {\n        margin: 10px auto\n    }\n}\n\n</style>\n"]}]}