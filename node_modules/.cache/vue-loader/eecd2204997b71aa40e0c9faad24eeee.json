{"remainingRequest":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/github/glsnb/glsblc/glsblc/src/page/data-report/index.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/apple/github/glsnb/glsblc/glsblc/src/page/data-report/index.vue","mtime":1576581821236},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/css-loader/dist/cjs.js","mtime":1576575751733},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1576575752870},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/postcss-loader/src/index.js","mtime":1575878146620},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/less-loader/dist/cjs.js","mtime":1575878151726},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/cache-loader/dist/cjs.js","mtime":1576575745336},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/vue-loader/lib/index.js","mtime":1576575752870}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wYWdlLWRhdGEtcmVwb3J0IHsKICAmLWxvYWRpbmcgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgcGFkZGluZzogMTQwcHg7CiAgICAmLXNwaW4gewogICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICB9CiAgfQoKICAuZHZpcy1pdnUgewogICAgbWFyZ2luLWJvdHRvbTogMHB4OwogICAgJi1oZWFkZXIgewogICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgIG1hcmdpbi10b3A6IDBweDsKICAgICAgbWFyZ2luLWxlZnQ6IDEwcHg7CiAgICB9CgogICAgPiAuaXZ1LWRpdmlkZXItaG9yaXpvbnRhbCB7CiAgICAgIG1hcmdpbjogMXB4IDA7CiAgICB9CiAgICAuZHZpcy1pdnUtcm93IC5kdmlzLWl2dS1pdGVtcy1ib3ggewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsKICAgIH0KICAgIC5kdmlzLWl2dS1yb3cgLmR2aXMtaXZ1LWl0ZW1zLWJveCAuZHZpcy1pdnUtaXRlbSAuaXZ1LWNhcmQtYm9keSB7CiAgICAgIC5pdnUtdGFibGUtYm9keSB7CiAgICAgICAgaGVpZ2h0OiAzMDRweDsKICAgICAgICBvdmVyZmxvdzogc2Nyb2xsOwogICAgICB9CiAgICB9CiAgICAuZHZpcy1pdnUtcm93IC5kdmlzLWl2dS1pdGVtcy1ib3ggLmR2aXMtaXZ1LWl0ZW0gewogICAgICAuZHZpcy1pdnUtY2hhcnQtaW5saW5lLWl0ZW1zLWJveCAuZHZpcy1pdnUtY2hhcnQtaW5saW5lLWl0ZW0tYm94IHsKICAgICAgICB3aWR0aDogMzEuMiU7CiAgICAgIH0KICAgIH0KICB9CgogICYtY29uZGl0aW9ucyB7CiAgICB3aWR0aDogOTglOwogICAgYmFja2dyb3VuZDogI2ZmZjsKICAgIG1hcmdpbjogMTBweDsKICAgIHBhZGRpbmc6IDIwcHggMjBweCAwcHggMjBweDsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CgogICAgLmZnLWl2dS1mb3JtLWl0ZW0gewogICAgICBtYXJnaW4tcmlnaHQ6IDQwcHggIWltcG9ydGFudDsKICAgIH0KICB9CgogICYtY2hhcnQgewogICAgbWFyZ2luLXRvcDogNjBweDsKICAgIHBhZGRpbmc6IDIwcHg7CiAgICBiYWNrZ3JvdW5kOiAjZmZmOwogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/page/data-report","sourcesContent":["<template>\n  <div class=\"page-data-report\">\n    <div v-if=\"loading\" class=\"page-data-report-loading\">\n      <Spin class=\"page-data-report-loading-spin\" size=\"large\" />\n    </div>\n    <div v-else>\n      <FormGenerator\n        v-if=\"fields.length > 0\"\n        ref=\"FormGenerator\"\n        class=\"page-data-report-conditions\"\n        :fields=\"fields\"\n        :model=\"model\"\n        :options=\"options\"\n      />\n      <div v-if=\"charts.length > 0\">\n        <div v-if=\"charts.length > 0\">\n          <DataVis\n            v-for=\"(item, index) in charts\"\n            :key=\"index\"\n            ref=\"DataVis\"\n            :config=\"item\"\n            class=\"data-vis\"\n            :params-container=\"model\"\n            :request-interceptor=\"interceptor\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"@/libs/api.request\";\nimport services from \"@/service\";\nconst { getPageConfig } = services[\"data-report\"];\nexport default {\n  data() {\n    return {\n      model: {},\n      loading: true,\n      pageConfig: {\n        form: {},\n        charts: []\n      }\n    };\n  },\n  computed: {\n    fields() {\n      return this.pageConfig.form.fields || [];\n    },\n    options() {\n      const options = this.pageConfig.form.options || [];\n      options.apiBase = this.apiBase;\n      options.labelWidth = 60;\n      options.inline = true;\n      options.labelPosition = \"left\";\n      return options;\n    },\n    charts() {\n      return this.pageConfig.charts || [];\n    }\n  },\n  mounted() {\n    const { pageId } = this.$route.params;\n    getPageConfig({\n      pageId\n    }).then(res => {\n      this.pageConfig = res.data;\n      this.loading = false;\n    });\n  },\n  methods: {\n    interceptor(url, params) {\n      return new Promise((resolve, reject) => {\n        axios\n          .request({\n            url,\n            method: \"get\",\n            params: {\n              conditions: JSON.stringify(params)\n            }\n          })\n          .then(\n            res => {\n              if (+res.status === 0) {\n                resolve(res);\n              } else {\n                reject(res);\n              }\n            },\n            error => {\n              reject(error);\n            }\n          );\n      });\n    }\n  }\n};\n</script>\n<style lang=\"less\">\n.page-data-report {\n  &-loading {\n    text-align: center;\n    padding: 140px;\n    &-spin {\n      display: inline-block;\n    }\n  }\n\n  .dvis-ivu {\n    margin-bottom: 0px;\n    &-header {\n      font-size: 14px;\n      margin-top: 0px;\n      margin-left: 10px;\n    }\n\n    > .ivu-divider-horizontal {\n      margin: 1px 0;\n    }\n    .dvis-ivu-row .dvis-ivu-items-box {\n      display: flex;\n      justify-content: space-around;\n    }\n    .dvis-ivu-row .dvis-ivu-items-box .dvis-ivu-item .ivu-card-body {\n      .ivu-table-body {\n        height: 304px;\n        overflow: scroll;\n      }\n    }\n    .dvis-ivu-row .dvis-ivu-items-box .dvis-ivu-item {\n      .dvis-ivu-chart-inline-items-box .dvis-ivu-chart-inline-item-box {\n        width: 31.2%;\n      }\n    }\n  }\n\n  &-conditions {\n    width: 98%;\n    background: #fff;\n    margin: 10px;\n    padding: 20px 20px 0px 20px;\n    border-radius: 10px;\n\n    .fg-ivu-form-item {\n      margin-right: 40px !important;\n    }\n  }\n\n  &-chart {\n    margin-top: 60px;\n    padding: 20px;\n    background: #fff;\n  }\n}\n</style>\n"]}]}