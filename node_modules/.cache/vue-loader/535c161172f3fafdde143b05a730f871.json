{"remainingRequest":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/github/glsnb/glsblc/glsblc/node_modules/data-vis-iview/src/charts/chartRetain.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/data-vis-iview/src/charts/chartRetain.vue","mtime":1576069822427},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/cache-loader/dist/cjs.js","mtime":1576575745336},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/thread-loader/dist/cjs.js","mtime":1575878146703},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/babel-loader/lib/index.js","mtime":1575878134225},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/cache-loader/dist/cjs.js","mtime":1576575745336},{"path":"/Users/apple/github/glsnb/glsblc/glsblc/node_modules/vue-loader/lib/index.js","mtime":1576575752870}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYXRhR2V0dGVyIGZyb20gJy4uL21peGlucy9kYXRhR2V0dGVyJzsKaW1wb3J0IHtjbGFzc1ByaWZpeH0gZnJvbSAnLi4vdXRpbHMvY29uc3QnOwppbXBvcnQge3hsc0Rvd25sb2FkfSBmcm9tICcuLi91dGlscy9kb3dubG9hZCc7CmltcG9ydCB7YWRkQ29tbWFzLCBpc051bWJlciwgY2FsY3VsYXRlVGFibGVDZWxsV2lkdGh9IGZyb20gJy4uL3V0aWxzL3V0aWxzJzsKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0NoYXJ0UmV0YWluJywKICAgIG1peGluczogW2RhdGFHZXR0ZXJdLAogICAgcHJvcHM6IHsKICAgICAgICBjaGFydDogewogICAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4ge307CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAoKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNoYXJ0RGF0YTogW10sCiAgICAgICAgICAgIGNoYXJ0Q29sdW1uczogW10sCiAgICAgICAgICAgIHBhZ2VTaXplOiAxMDAwLAogICAgICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgZWxXaWR0aDogMAogICAgICAgIH07CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBjbGFzc2VzKCkgewogICAgICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAgICAgYCR7Y2xhc3NQcmlmaXh9LWNoYXJ0YCwKICAgICAgICAgICAgICAgIGAke2NsYXNzUHJpZml4fS1jaGFydC1yZXRhaW5gCiAgICAgICAgICAgIF07CiAgICAgICAgfSwKICAgICAgICBoZWFkZXJDbGFzc2VzKCkgewogICAgICAgICAgICByZXR1cm4gYCR7Y2xhc3NQcmlmaXh9LWNoYXJ0LXJldGFpbi1oZWFkZXJgOwogICAgICAgIH0sCiAgICAgICAgY29udGVudENsYXNzZXMoKSB7CiAgICAgICAgICAgIHJldHVybiBgJHtjbGFzc1ByaWZpeH0tY2hhcnQtcmV0YWluLWNvbnRlbnRgOwogICAgICAgIH0sCiAgICAgICAgcGFnZUNsYXNzZXMoKSB7CiAgICAgICAgICAgIHJldHVybiBgJHtjbGFzc1ByaWZpeH0tY2hhcnQtcmV0YWluLXBhZ2VgOwogICAgICAgIH0sCiAgICAgICAgZG93bmxvYWRBYmxlKCkgewogICAgICAgICAgICBpZiAodGhpcy5jaGFydC5kb3dubG9hZEFibGUgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhcnQuZG93bmxvYWRBYmxlOwogICAgICAgIH0sCiAgICAgICAgY29sdW1ucygpIHsKICAgICAgICAgICAgbGV0IGNoYXJ0Q29sdW1ucyA9IHRoaXMuY2hhcnRDb2x1bW5zIHx8IFtdOwogICAgICAgICAgICBsZXQgY29sdW1ucyA9IHRoaXMuY2hhcnQuY29sdW1ucyB8fCBbXTsKICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Q29sdW1ucy5sZW5ndGggPiAwID8gY2hhcnRDb2x1bW5zIDogY29sdW1uczsKICAgICAgICB9LAogICAgICAgIGRhdGEoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXJ0LmFwaSA/IHRoaXMuY2hhcnREYXRhIDogdGhpcy5jaGFydC5kYXRhOwogICAgICAgIH0sCiAgICAgICAgdG90YWwoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEubGVuZ3RoOwogICAgICAgIH0sCiAgICAgICAgZGlzcGxheUNvbHVtbnMoKSB7CiAgICAgICAgICAgIGxldCBjb2x1bW5zID0gdGhpcy5jb2x1bW5zIHx8IFtdOwogICAgICAgICAgICBsZXQgY29sdW1uc1dpZHRoID0gdGhpcy5jb2x1bW5zV2lkdGggfHwge307CiAgICAgICAgICAgIGxldCBleHBhbmRXaWR0aCA9IHRoaXMuaXNFeHBhbmQgPyAzMCA6IDA7CiAgICAgICAgICAgIGxldCB0b3RhbFdpZHRoID0gY29sdW1ucy5tYXAoaXRlbSA9PiBjb2x1bW5zV2lkdGhbaXRlbS5rZXldKS5yZWR1Y2UoZnVuY3Rpb24ocHJldixjdXIpewogICAgICAgICAgICAgICAgcmV0dXJuIHByZXYgKyBjdXI7CiAgICAgICAgICAgIH0sMCkgKyBleHBhbmRXaWR0aDsKICAgICAgICAgICAgcmV0dXJuIGNvbHVtbnMubWFwKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ2V4cGFuZCcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGl0ZW0ud2lkdGggPSB0aGlzLmVsV2lkdGggPCB0b3RhbFdpZHRoCiAgICAgICAgICAgICAgICAgICAgPyBjb2x1bW5zV2lkdGhbaXRlbS5rZXldCiAgICAgICAgICAgICAgICAgICAgOiAodGhpcy5lbFdpZHRoIC8gT2JqZWN0LmtleXMoY29sdW1uc1dpZHRoKS5sZW5ndGgpIDwgY29sdW1uc1dpZHRoW2l0ZW0ua2V5XSA/IGNvbHVtbnNXaWR0aFtpdGVtLmtleV0gOiAnYXV0byc7CiAgICAgICAgICAgICAgICBpdGVtLnJlbmRlciA9IChoLCBwYXJhbXMpID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwYXJhbXMuY29sdW1uLmtleTsKICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBwYXJhbXMucm93W2tleV07CiAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQgPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICBsZXQgY2xhc3NOYW1lID0gJyc7CiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAxICYmIGlzTnVtYmVyKHZhbHVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzmmK/mlbTmlbAKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IGFkZENvbW1hcyh2YWx1ZS50b1N0cmluZygpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDpopzoibIKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdyYWRlID0gTWF0aC5mbG9vcih2YWx1ZSAvIDEwKTsKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7Y2xhc3NQcmlmaXh9LWNoYXJ0LXJldGFpbi1jb2xvcmAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2Ake2NsYXNzUHJpZml4fS1jaGFydC1yZXRhaW4tY29sb3ItJHtncmFkZX1gXTogZ3JhZGUgPj0gMCAmJiBncmFkZSA8PSAxMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbYCR7Y2xhc3NQcmlmaXh9LWNoYXJ0LXJldGFpbi1jb2xvci1lcnJvcmBdOiBncmFkZSA8IDAgJiYgZ3JhZGUgPiAxMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBdOwogICAgICAgICAgICAgICAgICAgICAgICAvLyDljZXkvY0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ID09PSAnbnVtYmVyJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQgKyAnJSc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGgoJ2RpdicsIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IGNsYXNzTmFtZQogICAgICAgICAgICAgICAgICAgIH0sIHRleHQpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGl0ZW0uZWxsaXBzaXMgPSB0cnVlOwogICAgICAgICAgICAgICAgaXRlbS50b29sdGlwID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGl0ZW0uYWxpZ24gPSAnY2VudGVyJzsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGRpc3BsYXlEYXRhKCkgewogICAgICAgICAgICBpZiAodGhpcy5pc1JlbW90ZVBhZ2UpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zbGljZSgodGhpcy5wYWdlTnVtIC0gMSkgKiB0aGlzLnBhZ2VTaXplLCAodGhpcy5wYWdlTnVtKSAqIHRoaXMucGFnZVNpemUpOwogICAgICAgIH0sCiAgICAgICAgaGVhZGVyQ29sdW1uc1dpZHRoKCkgewogICAgICAgICAgICBsZXQgd2lkdGhzID0ge307CiAgICAgICAgICAgIHRoaXMuY29sdW1ucy5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgd2lkdGhzW2l0ZW0ua2V5XSA9IGNhbGN1bGF0ZVRhYmxlQ2VsbFdpZHRoKGl0ZW0udGl0bGUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHdpZHRoczsKICAgICAgICB9LAogICAgICAgIGNvbHVtbnNXaWR0aCgpIHsKICAgICAgICAgICAgbGV0IHdpZHRocyA9IHRoaXMuaGVhZGVyQ29sdW1uc1dpZHRoIHx8IHt9OwogICAgICAgICAgICB0aGlzLmRpc3BsYXlEYXRhLmZvckVhY2goKGl0ZW0gPSB7fSkgPT4gewogICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoaXRlbSkuZm9yRWFjaChmaWVsZE5hbWUgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICghd2lkdGhzW2ZpZWxkTmFtZV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGhzW2ZpZWxkTmFtZV0gPSA4MDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBjYWxjdWxhdGVUYWJsZUNlbGxXaWR0aChpdGVtW2ZpZWxkTmFtZV0pOwogICAgICAgICAgICAgICAgICAgIHdpZHRoc1tmaWVsZE5hbWVdID0gTWF0aC5tYXgod2lkdGhzW2ZpZWxkTmFtZV0sIHdpZHRoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHdpZHRoczsKICAgICAgICB9LAogICAgfSwKCiAgICBtb3VudGVkKCkgewogICAgICAgIHRoaXMuZWxXaWR0aCA9IHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuJGVsKS53aWR0aCk7CiAgICAgICAgdGhpcy4kd2F0Y2goJ2NoYXJ0JywgKCkgPT4gewogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmNoYXJ0RGF0YSA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5jaGFydENvbHVtbnMgPSBbXTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGdldERhdGFGaW5pc2hlZCgpIHt9LAogICAgICAgIGhhbmRsZVBhZ2VDaGFuZ2UocGFnZU51bSkgewogICAgICAgICAgICB0aGlzLnBhZ2VOdW0gPSBwYWdlTnVtOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlUGFnZVNpemVDaGFuZ2UocGFnZVNpemUpIHsKICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZSA9IHBhZ2VTaXplOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlRG93bmxvYWRDbGljaygpIHsKICAgICAgICAgICAgaWYgKHRoaXMuY2hhcnQuZG93bkxvYWRBcGkpIHsKICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKHRoaXMuY2hhcnQuZG93bkxvYWRBcGkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgLy8gZG93bmxvYWQgbG9jYWwgZGF0YQogICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gdGhpcy5jb2x1bW5zLm1hcChpdGVtID0+IGl0ZW0udGl0bGUpOwogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IFsKICAgICAgICAgICAgICAgICAgICBoZWFkZXIsCiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5kYXRhLm1hcChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sdW1ucy5tYXAoZmllbGQgPT4gaXRlbVtmaWVsZC5rZXldKTsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgXTsKICAgICAgICAgICAgICAgIHhsc0Rvd25sb2FkKGRhdGEsIHRoaXMuY2hhcnQubGFiZWwpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Owo="},{"version":3,"sources":["chartRetain.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"chartRetain.vue","sourceRoot":"node_modules/data-vis-iview/src/charts","sourcesContent":["<template>\n    <div\n        v-if=\"loading\"\n        :class=\"[loadingClasses, classes]\"\n    >\n        <Spin\n            :class=\"spinClasses\"\n            size=\"large\"\n        />\n    </div>\n    <div\n        v-else\n        :class=\"classes\"\n    >\n        <h3 :class=\"headerClasses\">\n            <Button\n                v-if=\"downloadAble\"\n                size=\"small\"\n                type=\"primary\"\n                @click=\"handleDownloadClick\"\n            >\n                下载数据\n            </Button>\n        </h3>\n        <Table\n            ref=\"table\"\n            stripe\n            size=\"small\"\n            :class=\"contentClasses\"\n            :columns=\"displayColumns\"\n            :data=\"displayData\"\n            :loading=\"loading\"\n        />\n        <Page\n            v-if=\"pageNum > 1\"\n            :current=\"pageNum\"\n            :class=\"pageClasses\"\n            :page-size=\"pageSize\"\n            :page-size-opts=\"[10, 20, 30, 40]\"\n            :total=\"total\"\n            show-total\n            size=\"small\"\n            @on-change=\"handlePageChange\"\n            @on-page-size-change=\"handlePageSizeChange\"\n        />\n    </div>\n</template>\n<script>\nimport dataGetter from '../mixins/dataGetter';\nimport {classPrifix} from '../utils/const';\nimport {xlsDownload} from '../utils/download';\nimport {addCommas, isNumber, calculateTableCellWidth} from '../utils/utils';\nexport default {\n    name: 'ChartRetain',\n    mixins: [dataGetter],\n    props: {\n        chart: {\n            type: Object,\n            default() {\n                return {};\n            }\n        }\n    },\n\n    data () {\n        return {\n            chartData: [],\n            chartColumns: [],\n            pageSize: 1000,\n            pageNum: 1,\n            loading: false,\n            elWidth: 0\n        };\n    },\n    computed: {\n        classes() {\n            return [\n                `${classPrifix}-chart`,\n                `${classPrifix}-chart-retain`\n            ];\n        },\n        headerClasses() {\n            return `${classPrifix}-chart-retain-header`;\n        },\n        contentClasses() {\n            return `${classPrifix}-chart-retain-content`;\n        },\n        pageClasses() {\n            return `${classPrifix}-chart-retain-page`;\n        },\n        downloadAble() {\n            if (this.chart.downloadAble === undefined) {\n                return true;\n            }\n            return this.chart.downloadAble;\n        },\n        columns() {\n            let chartColumns = this.chartColumns || [];\n            let columns = this.chart.columns || [];\n            return chartColumns.length > 0 ? chartColumns : columns;\n        },\n        data() {\n            return this.chart.api ? this.chartData : this.chart.data;\n        },\n        total() {\n            return this.data.length;\n        },\n        displayColumns() {\n            let columns = this.columns || [];\n            let columnsWidth = this.columnsWidth || {};\n            let expandWidth = this.isExpand ? 30 : 0;\n            let totalWidth = columns.map(item => columnsWidth[item.key]).reduce(function(prev,cur){\n                return prev + cur;\n            },0) + expandWidth;\n            return columns.map((item, index) => {\n                if (item.type === 'expand') {\n                    return item;\n                }\n                item.width = this.elWidth < totalWidth\n                    ? columnsWidth[item.key]\n                    : (this.elWidth / Object.keys(columnsWidth).length) < columnsWidth[item.key] ? columnsWidth[item.key] : 'auto';\n                item.render = (h, params) => {\n                    const key = params.column.key;\n                    let value = params.row[key];\n                    let text = value;\n                    let className = '';\n                    if (index === 1 && isNumber(value)) {\n                        // 如果是整数\n                        text = addCommas(value.toString());\n                    }\n                    if (index > 1) {\n                        // 颜色\n                        let grade = Math.floor(value / 10);\n                        className = [\n                            `${classPrifix}-chart-retain-color`,\n                            {\n                                [`${classPrifix}-chart-retain-color-${grade}`]: grade >= 0 && grade <= 10,\n                                [`${classPrifix}-chart-retain-color-error`]: grade < 0 && grade > 10\n                            }\n                        ];\n                        // 单位\n                        if (typeof text === 'number') {\n                            text = text + '%';\n                        }\n                    }\n                    return h('div', {\n                        class: className\n                    }, text);\n                };\n                item.ellipsis = true;\n                item.tooltip = true;\n                item.align = 'center';\n                return item;\n            });\n        },\n        displayData() {\n            if (this.isRemotePage) {\n                return this.data;\n            }\n            return this.data.slice((this.pageNum - 1) * this.pageSize, (this.pageNum) * this.pageSize);\n        },\n        headerColumnsWidth() {\n            let widths = {};\n            this.columns.forEach(item => {\n                widths[item.key] = calculateTableCellWidth(item.title);\n            });\n            return widths;\n        },\n        columnsWidth() {\n            let widths = this.headerColumnsWidth || {};\n            this.displayData.forEach((item = {}) => {\n                Object.keys(item).forEach(fieldName => {\n                    if (!widths[fieldName]) {\n                        widths[fieldName] = 80;\n                    }\n                    const width = calculateTableCellWidth(item[fieldName]);\n                    widths[fieldName] = Math.max(widths[fieldName], width);\n                });\n            });\n            return widths;\n        },\n    },\n\n    mounted() {\n        this.elWidth = parseInt(window.getComputedStyle(this.$el).width);\n        this.$watch('chart', () => {\n            this.$nextTick(() => {\n                this.chartData = [];\n                this.chartColumns = [];\n            });\n        });\n    },\n    methods: {\n        getDataFinished() {},\n        handlePageChange(pageNum) {\n            this.pageNum = pageNum;\n        },\n        handlePageSizeChange(pageSize) {\n            this.pageSize = pageSize;\n        },\n        handleDownloadClick() {\n            if (this.chart.downLoadApi) {\n                window.open(this.chart.downLoadApi);\n            }\n            else {\n                // download local data\n                const header = this.columns.map(item => item.title);\n                const data = [\n                    header,\n                    ...this.data.map(item => {\n                        return this.columns.map(field => item[field.key]);\n                    })\n                ];\n                xlsDownload(data, this.chart.label);\n            }\n        }\n    }\n};\n</script>\n"]}]}